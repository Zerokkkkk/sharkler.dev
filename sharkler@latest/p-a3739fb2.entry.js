import{r as s,c as t,f as i,h as e,H as r,g as a}from"./p-a5ccd36d.js";import{c as l}from"./p-41c082d6.js";import{a as d}from"./p-444efb9b.js";import{D as o}from"./p-9b6e7130.js";const h="sk-slider{--sk-slider-color-fill:var(--sk-color-primary);--sk-slider-track-bg-color:var(--sk-color-border-2);--sk-slider-mark-content-color:var(--sk-color-text-4);--sk-slider-track-size:6px;--sk-slider-handle-size:20px;--sk-slider-track-border-radius:8px;--sk-slider-handle-translate:translate(\n  \tcalc(-1 * (var(--sk-slider-handle-size) / 2)),\n  \t50%\n  );--sk-slider-handle-transform:var(--sk-slider-handle-translate);--sk-slider-mark-content-offset:10px}.sk-slider{cursor:pointer;display:block}.sk-slider--disabled{cursor:not-allowed;opacity:0.6}.sk-slider--vertical{--sk-slider-handle-translate:translate(\n  \t-50%,\n  \tcalc((var(--sk-slider-handle-size) / 2))\n  );display:inline-flex}.sk-slider--vertical .sk-slider-track{margin:0 calc((var(--sk-slider-handle-size) - var(--sk-slider-track-size)) / 2);width:var(--sk-slider-track-size)}.sk-slider--vertical .sk-slider-fill{width:100%}.sk-slider--vertical .sk-slider-handle{left:50%}.sk-slider:not(.sk-slider--disabled) .sk-slider-handle:hover,.sk-slider--grabing{--sk-slider-handle-transform:var(--sk-slider-handle-translate) scale(1.15)}.sk-slider-track{position:relative;margin:calc((var(--sk-slider-handle-size) - var(--sk-slider-track-size)) / 2) 0;height:var(--sk-slider-track-size);background:var(--sk-slider-track-bg-color);border-radius:var(--sk-slider-track-border-radius)}.sk-slider-handle{position:absolute;z-index:10;bottom:50%;transform:var(--sk-slider-handle-transform);display:inline-block;box-sizing:border-box;width:var(--sk-slider-handle-size);height:var(--sk-slider-handle-size);border:2px solid var(--sk-color-primary);border-radius:50%;background:var(--sk-color-white);transition:transform ease-in-out 100ms}.sk-slider-fill{position:absolute;z-index:9;left:0;bottom:0;height:100%;background:var(--sk-slider-color-fill);border-radius:var(--sk-slider-track-border-radius)}.sk-slider-mark-container{position:relative;z-index:8;height:100%}.sk-slider-mark-container.has-marks{z-index:9}.sk-slider-mark{position:absolute;border:calc(var(--sk-slider-track-size) / 2) solid var(--sk-color-white);border-radius:50%}.sk-slider-mark--active{--sk-slider-mark-content-color:var(--sk-color-primary)}.sk-slider-mark-content{cursor:pointer;position:absolute;color:var(--sk-slider-mark-content-color);font-size:var(--sk-font-size)}:not(.sk-slider--vertical) .sk-slider-mark-content{top:var(--sk-slider-mark-content-offset);left:50%;transform:translateX(-50%)}.sk-slider--vertical .sk-slider-mark-content{top:50%;left:var(--sk-slider-mark-content-offset);transform:translateY(-50%)}";const n=h;let k=1;const c=class{constructor(i){s(this,i);this.skChange=t(this,"sk-change",7);this.skInput=t(this,"sk-input",7);this.disabledHandler=new o(this);this.initialPoint=0;this.initialValue=0;this.handleMousedown=s=>{if(this.disabled)return;const{clientX:t,clientY:i}=s;this.initialPoint=this.vertical?i:t;this.handleTrackClick(s);this.initialValue=this.ratio;this.grabing=true;window.addEventListener("mousemove",this.handleWindowMousemove)};this.handleWindowMousemove=({clientX:s,clientY:t})=>{const i=this.vertical?this.initialPoint-t:s-this.initialPoint;this.ratio=this.initialValue+i/this.trackLength*100};this.handleTrackClick=s=>{const t=s.target;if(t===this.handleEl)return;const i=t.closest(".sk-slider-mark");let e;if(i){e=this.vertical?this.trackLength-(i.offsetTop+this.trackSize/2):i.offsetLeft+this.trackSize/2}else{e=this.vertical?t.clientHeight-s.offsetY:s.offsetX}this.ratio=e/this.trackLength*100};this.grabing=false;this.offset=0;this.ratio=0;this.value=0;this.min=0;this.max=100;this.step=undefined;this.hideStops=false;this.marks=undefined;this.vertical=false;this.height=undefined;this.disabled=false}get trackLength(){var s,t;return this.vertical?(s=this.trackEl)===null||s===void 0?void 0:s.clientHeight:(t=this.trackEl)===null||t===void 0?void 0:t.clientWidth}get trackSize(){return d(this.el,"--sk-slider-track-size","px")}get extent(){return this.max-this.min}watchValueChange(s,t){if(this.disabledHandler.shouldRollback("value",s,t,this.disabled))return;this.updateRatio();this.skInput.emit(this.value)}watchInnerValueChange(){this.adjustRatio();this.updateValue();this.updateOffset()}componentWillLoad(){if(this.value>this.max){this.value=this.max}if(this.value<this.min){this.value=this.min}this.updateRatio();this.adjustRatio()}componentDidLoad(){this.updateOffset();i(this.el)}componentShouldUpdate(s,t,i){return this.disabledHandler.componentShouldUpdate(i)}onWindowMouseup(){if(this.disabled||!this.grabing)return;this.grabing=false;this.skChange.emit(this.value);window.removeEventListener("mousemove",this.handleWindowMousemove)}adjustRatio(){let s=this.ratio;if(this.ratio>100){s=100}if(this.ratio<0){s=0}const t=100/(this.extent/this.step);const i=s%t;if(!this.step||i===0){this.ratio=s}else{this.ratio=s+(i>=t/2?t-i:-i)}}updateRatio(){this.ratio=(this.value-this.min)/this.extent*100}updateOffset(){this.offset=this.ratio/100*this.trackLength}updateValue(){this.value=Math.round(this.min+this.extent*(this.ratio/100))}renderStepMarks(){var s;const t=this.vertical?"bottom":"left";const i=[];if(this.step){const s=Math.floor(this.extent/this.step);const r=this.trackLength/s;for(let a=1;a<s;a++){i.push(e("span",{class:"sk-slider-mark",style:{[t]:r*a-this.trackSize/2+"px"}}))}}if(((s=this.marks)===null||s===void 0?void 0:s.length)>0){for(const[s,r]of this.marks){i.push(e("span",{class:l("sk-slider-mark",this.value===s&&"sk-slider-mark--active"),style:{[t]:this.trackLength*((s-this.min)/this.extent)-this.trackSize/2+"px"}},e("span",{class:"sk-slider-mark-content"},r)))}}return i}render(){var s;const t=((s=this.marks)===null||s===void 0?void 0:s.length)>0;const i=k++;return e(r,{key:"b370858438eaaf8dbfb19a0786638966a03a549c",class:l("sk-slider",this.grabing&&"sk-slider--grabing",this.vertical&&"sk-slider--vertical",this.disabled&&"sk-slider--disabled"),draggable:false},e("div",{key:"3f05e7071d0403171fe2966df8adb93673b99089",onMouseDown:this.handleMousedown,ref:s=>this.trackEl=s,class:"sk-slider-track",style:{height:this.vertical&&this.height||null}},e("sk-tooltip",{key:"e6645e385b5e8078715a4163b6f400644dfe928c",name:`slider-${i}-content`,content:String(this.value)}),e("span",{key:"0d072dc84993af5260643592b2fe98bf14edd357","data-tooltip-ref":`slider-${i}-content`,class:"sk-slider-handle",style:{[`${this.vertical?"bottom":"left"}`]:`${this.offset}px`},ref:s=>this.handleEl=s}),e("div",{key:"dcaac21a8036eb6df68ba161e72edb68c5d6444b",class:"sk-slider-fill",style:{height:this.vertical?this.offset+"px":null,width:!this.vertical?this.offset+"px":null}}),(Boolean(this.step)&&!this.hideStops||t)&&e("div",{key:"026544de6da800800d7afef941e2622458c120f5",class:l("sk-slider-mark-container",t&&"has-marks")},this.renderStepMarks())))}get el(){return a(this)}static get watchers(){return{value:["watchValueChange"],ratio:["watchInnerValueChange"]}}};c.style=n;export{c as sk_slider};
//# sourceMappingURL=p-a3739fb2.entry.js.map