import{r as t,c as s,h as i,H as e,g as a}from"./p-a5ccd36d.js";import{c as n}from"./p-41c082d6.js";const h=".sk-tabs{display:flex;row-gap:16px;flex-direction:column}.sk-tabs--round{display:inline-flex}.sk-tabs-body{padding:0 16px}";const o=h;let c=1;const d=class{constructor(e){t(this,e);this.skChange=s(this,"tab-change",7);this.tabClick=s(this,"tab-click",7);this.observers=[];this.tabsMap=new Map;this.tabsName=`sk-tabs-${c++}`;this.assignPanes=()=>{this.panes=Array.from(this.el.children).filter((t=>t.tagName==="SK-TABS-PANE"))};this.renderItems=()=>{this.tabsMap.clear();return this.panes.map((t=>{var s;t.style.display=this.activeName!==t.name?"none":"";const e=(s=t.querySelector('[slot="label"]'))===null||s===void 0?void 0:s.cloneNode(true);e===null||e===void 0?void 0:e.removeAttribute("hidden");e===null||e===void 0?void 0:e.removeAttribute("slot");const a=i("sk-tabs-item",{onItemClick:()=>this.handleItemClick(t),innerHTML:(e===null||e===void 0?void 0:e.outerHTML)||t.label,disabled:t.disabled,selected:!t.disabled&&this.activeName===t.name});this.tabsMap.set(t.name,t);this.tabsMap.set(a,t);return a}))};this.panes=[];this.initialized=false;this.activeName=undefined;this.mode=undefined;this.stretch=undefined}watchActiveNameChange(t,s){if(t===this.previousName)return;const i=this.tabsMap.get(t);if((!i||i.disabled)&&this.initialized){if(!i){console.error(`\`sk-tabs-pane[name="${t}"]\`不存在`)}this.previousName=s;return}for(const[,s]of this.tabsMap){s.hidden=s.name!==t}this.skChange.emit(t)}disconnectedCallback(){this.observers.forEach((t=>t.disconnect()))}componentWillLoad(){var t;this.assignPanes();let s=1;for(const t of this.panes){if(!t.name){t.name=`${this.tabsName}-pane-${s++}`}}if(!this.activeName){this.activeName=(t=this.panes[0])===null||t===void 0?void 0:t.name}this.initialized=true}componentDidLoad(){for(const t of this.panes){const s=new MutationObserver((()=>this.assignPanes()));const i=new MutationObserver((([{target:t}])=>{const s=t.getAttribute("slot");if(s==="label"){this.assignPanes()}}));s.observe(t,{attributeFilter:["name","label","disabled"],attributes:true});i.observe(t,{childList:true,subtree:true});this.observers.push(s);this.observers.push(i)}}componentShouldUpdate(t,s,i){if(i==="activeName"&&this.previousName){if(this.activeName!==this.previousName){this.activeName=this.previousName}else{this.previousName=null}return false}}handleItemClick({name:t,disabled:s}){if(s)return;this.tabClick.emit(t);this.activeName=t}render(){return i(e,{key:"3aec1c7a8c848228adca3cf72d16ae4d67d2e46e",class:n("sk-tabs",this.mode&&`sk-tabs--${this.mode}`)},i("sk-tabs-nav",{key:"9d4f56f272e49997627f3fc5cf13072d0b556440",mode:this.mode,class:n(this.stretch&&"sk-tabs-nav--stretch")},this.renderItems()),i("sk-tabs-body",{key:"3a36227de9902ff5cb06c0ab081e43df7293650a",class:"sk-tabs-body"},i("slot",{key:"09b4c3dc2b94d692339e95e8cf5f4dcd1a77840e"})))}get el(){return a(this)}static get watchers(){return{activeName:["watchActiveNameChange"]}}};d.style=o;export{d as sk_tabs};
//# sourceMappingURL=p-a3406d28.entry.js.map