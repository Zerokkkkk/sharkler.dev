import{r as t,c as i,h as s,H as e}from"./p-a5ccd36d.js";import{c as a,m as n}from"./p-41c082d6.js";import{s as o}from"./p-ad86dec7.js";import{A as r,a as c,D as h,b as p,M as l}from"./p-d57f82fb.js";import{t as d}from"./p-2ea07ab0.js";import"./p-68463f40.js";import"./p-404dbce2.js";import"./p-242f3d60.js";var g=1/0,f=17976931348623157e292;function k(t){if(!t){return t===0?t:0}t=d(t);if(t===g||t===-g){var i=t<0?-1:1;return i*f}return t===t?t:0}function u(t,i,s){if(t===t){if(s!==undefined){t=t<=s?t:s}if(i!==undefined){t=t>=i?t:i}}return t}function m(t,i,s){if(s===undefined){s=i;i=undefined}if(s!==undefined){s=d(s);s=s===s?s:0}if(i!==undefined){i=d(i);i=i===i?i:0}return u(d(t),i,s)}var b=Math.max,x=Math.min;function v(t,i,s){return t>=x(i,s)&&t<b(i,s)}function y(t,i,s){i=k(i);if(s===undefined){s=i;i=0}else{s=k(s)}t=d(t);return v(t,i,s)}const w="sk-pagination{--sk-pagination-item-size:32px;--sk-pagination-text-color:var(--sk-color-text-3);--sk-pagination-font-size:var(--sk-font-size)}.sk-pagination{display:flex;align-items:center;flex-wrap:wrap;gap:10px;color:var(--sk-pagination-text-color);font-size:var(--sk-pagination-font-size)}.sk-pagination>*{flex-shrink:0}.sk-pagination:not(.sk-pagination--transparent){--sk-pagination-bg-color:var(--sk-color-white)}.sk-pagination:not(.sk-pagination--transparent) .sk-pagination-item--active{--sk-pagination-bg-color:var(--sk-color-primary);--sk-pagination-text-color:var(--sk-color-white)}.sk-pagination-pager{list-style:none;margin:0;padding:0;gap:10px}.sk-pagination-pager:not(:empty){display:flex;align-items:center;flex-wrap:wrap;flex:initial}.sk-pagination-item{-webkit-user-select:none;-moz-user-select:none;user-select:none;display:inline-flex;align-items:center;justify-content:center;width:var(--sk-pagination-item-size);height:var(--sk-pagination-item-size);line-height:var(--sk-line-height);border-radius:6px;background:var(--sk-pagination-bg-color);color:var(--sk-pagination-text-color)}.sk-pagination-item--disabled{--sk-pagination-text-color:var(--sk-color-disabled);cursor:not-allowed}.sk-pagination-item--active{--sk-pagination-text-color:var(--sk-color-primary);font-weight:700}.sk-pagination-item:not(.sk-pagination-item--active):not(.sk-pagination-item--disabled){cursor:pointer}.sk-pagination-item:not(.sk-pagination-item--active):not(.sk-pagination-item--disabled):hover{--sk-pagination-text-color:var(--sk-color-primary)}.sk-pagination-sizes .sk-select{box-shadow:none;border:1px solid var(--sk-color-border-2)}.sk-pagination-jumper{display:inline-flex;align-items:center}.sk-pagination-jumper .sk-input{margin:0 6px;padding:4px 0;box-shadow:none;border:1px solid var(--sk-color-border-2)}.sk-pagination-jumper .sk-input input{padding:0;text-align:center}";const z=w;const $="sk-pagination";const j=`${$}-item`;const C=class{constructor(e){t(this,e);this.currentChange=i(this,"current-change",7);this.sizeChange=i(this,"size-change",7);this.calcPageCount=t=>this.pageCount=t||Math.ceil(this.total/this.pageSize);this.clampCurrent=t=>m(t,1,this.pageCount);this.handleJump=({target:t})=>this.current=this.clampCurrent(Number(t.value));this.renderPagers=()=>Array.from({length:this.pageCount}).map(((t,i)=>{const e=i+1;const n=s("li",{class:a(`${j}`,this.current===e&&`${j}--active`),onClick:()=>this.current=e},e);const o=t=>s("li",{class:a(`${j}`,`${j}--more`),onClick:()=>{this.current=this.clampCurrent(this.current+(t==="prev"?-(this.pagerCount-2):this.pagerCount-2));this.lastMoreDirection=t}},this.lastMoreDirection===t?{prev:s(h,null),next:s(p,null)}[t]:s(l,null));if(this.pageCount<=this.pagerCount)return n;const r=Math.ceil(this.pagerCount/2);const c=this.current-1;const d=this.pageCount-this.current;if(c>=r&&e===2||d>=r&&e===this.pageCount-1)return o(e===2?"prev":"next");if([1,this.current,this.pageCount].includes(e)||(c<r?e<=this.pagerCount-1:y(e,this.current-(this.pagerCount-3)/2,this.current))||(d<r?e>this.pageCount-(this.pagerCount-1):y(e,this.current,this.current+(this.pagerCount-3)/2+1)))return n}));this.lastMoreDirection=undefined;this.current=1;this.total=0;this.pageCount=0;this.pageSize=10;this.pageSizes=[10,20,30,50,100];this.pagerCount=7;this.layout="total,prev,pager,next,sizes,jumper";this.transparent=false;this.hideOnSingle=false}get prevDisabled(){return this.current===1}get nextDisabled(){return this.current===this.pageCount}watchTotalAndPageSize(){this.calcPageCount()}watchCurrent(){this.currentChange.emit(this.current)}watchPageSize(){this.sizeChange.emit(this.pageSize)}watchPageCount(){if(this.current>this.pageCount){this.current=this.pageCount}}componentWillLoad(){this.calcPageCount(this.pageCount)}render(){const t=s("span",{key:"ced94153a6793f6ea27ac51665aea83fdef74950",class:`${$}-total`},"共 ",this.total," 条");const i=s("span",{key:"7b0ebc03125bba7b607dd06da1c6e529c52ae855",class:a(`${j} ${$}-prev`,this.prevDisabled&&`${j}--disabled`),onClick:()=>!this.prevDisabled&&--this.current},s(r,{key:"e40d360f45730f45f19dcd3cace1cf83d92af00c"}));const h=s("ul",{key:"4c83d8f1f2cab0bec44b831ad30a381e7592f6ab",class:`${$}-pager`},this.renderPagers());const p=s("span",{key:"2c85979399809380049ee67a3309cf010432dcf2",class:a(`${j} ${$}-next`,this.nextDisabled&&`${j}--disabled`),onClick:()=>!this.nextDisabled&&++this.current},s(c,{key:"910607705821fc2b9756929fe79d24badd901df5"}));const l=s("sk-select",{key:"6242c851f7f85b271a6b1f2ff229cfd22dbf16c2",class:`${$}-sizes`,mode:this.transparent?"ghost":"detached",size:"sm",style:{"--sk-select-min-width":"95px"},options:this.pageSizes.map((t=>({value:String(t),label:`${t}条/页`,selected:this.pageSize===t}))),"onSk-change":t=>this.pageSize=Number(t.detail)});const d=s("span",{key:"1f5968bab31ef56cd13502bfab1c946a0d0c167d",class:`${$}-jumper`},"转到",s("sk-input",{key:"849964f19d8c9c2201ee10dffb60d48fb273d01f",value:String(this.current),type:"number",width:"40px",onChange:this.handleJump,onKeyDown:t=>t.key==="enter"&&this.handleJump(t)}),"页");const g={total:t,prev:i,pager:h,next:p,sizes:l,jumper:d};const f=this.hideOnSingle&&this.pageCount===1;return s(e,{key:"df91ed2a70952999c15d52230de24b73434be004",class:n(this,$,["transparent"]),style:o({display:f?"none":null})},!f&&this.layout.split(",").map((t=>g[t])))}static get watchers(){return{pageSize:["watchTotalAndPageSize","watchPageSize"],total:["watchTotalAndPageSize"],current:["watchCurrent"],pageCount:["watchPageCount"]}}};C.style=z;export{C as sk_pagination};
//# sourceMappingURL=p-80861d07.entry.js.map